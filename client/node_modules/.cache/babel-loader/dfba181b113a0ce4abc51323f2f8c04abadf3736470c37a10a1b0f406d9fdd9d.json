{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91635\\\\Desktop\\\\Woocomerce plugin\\\\woocommerce-plugin-gen\\\\client\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Editor from '@monaco-editor/react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [prompt, setPrompt] = useState('');\n  const [code, setCode] = useState('');\n  const [loading, setLoading] = useState(false);\n  const generatePlugin = async () => {\n    setLoading(true);\n    const API_BASE_URL = process.env.REACT_APP_API_BASE_URL; // ✅ new\n    const res = await fetch(`${API_BASE_URL}/api/generate`, {\n      // ✅ new\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        prompt\n      })\n    });\n    const data = await res.json();\n    setCode(data.code);\n    setLoading(false);\n  };\n  const downloadPlugin = () => {\n    const blob = new Blob([code], {\n      type: 'text/php'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'custom-plugin.php';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  const uploadToWordPress = async () => {\n    const pluginName = 'custom-plugin.php';\n    const blob = new Blob([code], {\n      type: 'text/php'\n    });\n    const formData = new FormData();\n    formData.append('file', blob, pluginName);\n    const username = 'kdenzz';\n    const password = 'hollowcoves';\n    const siteUrl = 'http://wooplugintest.local';\n    const auth = btoa(`${username}:${password}`);\n    try {\n      const response = await fetch(`${siteUrl}/wp-json/wp/v2/plugins`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Basic ${auth}`\n        },\n        body: formData\n      });\n      if (response.ok) {\n        alert('✅ Plugin uploaded and ready in WordPress!');\n      } else {\n        const err = await response.text();\n        alert('❌ Upload failed: ' + err);\n      }\n    } catch (err) {\n      console.error(err);\n      alert('❌ Error uploading plugin to WordPress.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Woo Plugin Generator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Describe what you want the plugin to do...\",\n      value: prompt,\n      onChange: e => setPrompt(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: generatePlugin,\n      disabled: loading,\n      children: loading ? 'Generating...' : 'Generate Plugin'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Editor, {\n      height: \"400px\",\n      defaultLanguage: \"php\",\n      value: code,\n      onChange: value => setCode(value !== null && value !== void 0 ? value : ''),\n      theme: \"vs-dark\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), code && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: downloadPlugin,\n        children: \"Download Plugin (.php)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: uploadToWordPress,\n        children: \"Apply to WP Website Directly\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"pkqo+6iHMVbIA5aSZcM2hRi3sk4=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Editor","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","prompt","setPrompt","code","setCode","loading","setLoading","generatePlugin","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","res","fetch","method","headers","body","JSON","stringify","data","json","downloadPlugin","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","uploadToWordPress","pluginName","formData","FormData","append","username","password","siteUrl","auth","btoa","response","Authorization","ok","alert","err","text","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","disabled","height","defaultLanguage","theme","_c","$RefreshReg$"],"sources":["C:/Users/91635/Desktop/Woocomerce plugin/woocommerce-plugin-gen/client/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Editor from '@monaco-editor/react';\nimport './App.css';\n\nexport default function App() {\n    const [prompt, setPrompt] = useState('');\n    const [code, setCode] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const generatePlugin = async () => {\n        setLoading(true);\n        const API_BASE_URL = process.env.REACT_APP_API_BASE_URL; // ✅ new\n        const res = await fetch(`${API_BASE_URL}/api/generate`, { // ✅ new\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ prompt }),\n        });\n        const data = await res.json();\n        setCode(data.code);\n        setLoading(false);\n    };\n\n    const downloadPlugin = () => {\n        const blob = new Blob([code], { type: 'text/php' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'custom-plugin.php';\n        a.click();\n        URL.revokeObjectURL(url);\n    };\n\n    const uploadToWordPress = async () => {\n        const pluginName = 'custom-plugin.php';\n        const blob = new Blob([code], { type: 'text/php' });\n\n        const formData = new FormData();\n        formData.append('file', blob, pluginName);\n\n        const username = 'kdenzz';\n        const password = 'hollowcoves';\n        const siteUrl = 'http://wooplugintest.local';\n\n        const auth = btoa(`${username}:${password}`);\n\n        try {\n            const response = await fetch(`${siteUrl}/wp-json/wp/v2/plugins`, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Basic ${auth}`\n                },\n                body: formData\n            });\n\n            if (response.ok) {\n                alert('✅ Plugin uploaded and ready in WordPress!');\n            } else {\n                const err = await response.text();\n                alert('❌ Upload failed: ' + err);\n            }\n        } catch (err) {\n            console.error(err);\n            alert('❌ Error uploading plugin to WordPress.');\n        }\n    };\n\n    return (\n        <div className=\"app\">\n            <h1>Woo Plugin Generator</h1>\n            <textarea\n                placeholder=\"Describe what you want the plugin to do...\"\n                value={prompt}\n                onChange={(e) => setPrompt(e.target.value)}\n            />\n            <button onClick={generatePlugin} disabled={loading}>\n                {loading ? 'Generating...' : 'Generate Plugin'}\n            </button>\n            <Editor\n                height=\"400px\"\n                defaultLanguage=\"php\"\n                value={code}\n                onChange={(value) => setCode(value ?? '')}\n                theme=\"vs-dark\"\n            />\n            {code && (\n                <>\n                    <button onClick={downloadPlugin}>Download Plugin (.php)</button>\n                    <button onClick={uploadToWordPress}>Apply to WP Website Directly</button>\n                </>\n            )}\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}