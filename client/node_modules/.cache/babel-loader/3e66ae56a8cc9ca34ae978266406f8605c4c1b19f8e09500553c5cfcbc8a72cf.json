{"ast":null,"code":"import React,{useState}from'react';import Editor from'@monaco-editor/react';import'./App.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[prompt,setPrompt]=useState('');const[code,setCode]=useState('');const[loading,setLoading]=useState(false);const generatePlugin=async()=>{setLoading(true);const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;// ✅ new\nconst res=await fetch(\"\".concat(API_BASE_URL,\"/api/generate\"),{// ✅ new\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt})});const data=await res.json();setCode(data.code);setLoading(false);};const downloadPlugin=()=>{const blob=new Blob([code],{type:'text/php'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='custom-plugin.php';a.click();URL.revokeObjectURL(url);};const uploadToWordPress=async()=>{const pluginName='custom-plugin.php';const blob=new Blob([code],{type:'text/php'});const formData=new FormData();formData.append('file',blob,pluginName);const username='kdenzz';const password='hollowcoves';const siteUrl='http://wooplugintest.local';const auth=btoa(\"\".concat(username,\":\").concat(password));try{const response=await fetch(\"\".concat(siteUrl,\"/wp-json/wp/v2/plugins\"),{method:'POST',headers:{Authorization:\"Basic \".concat(auth)},body:formData});if(response.ok){alert('✅ Plugin uploaded and ready in WordPress!');}else{const err=await response.text();alert('❌ Upload failed: '+err);}}catch(err){console.error(err);alert('❌ Error uploading plugin to WordPress.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Woo Plugin Generator\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Describe what you want the plugin to do...\",value:prompt,onChange:e=>setPrompt(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:generatePlugin,disabled:loading,children:loading?'Generating...':'Generate Plugin'}),/*#__PURE__*/_jsx(Editor,{height:\"400px\",defaultLanguage:\"php\",value:code,onChange:value=>setCode(value!==null&&value!==void 0?value:''),theme:\"vs-dark\"}),code&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:downloadPlugin,children:\"Download Plugin (.php)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadToWordPress,children:\"Apply to WP Website Directly\"})]})]});}","map":{"version":3,"names":["React","useState","Editor","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","prompt","setPrompt","code","setCode","loading","setLoading","generatePlugin","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","res","fetch","concat","method","headers","body","JSON","stringify","data","json","downloadPlugin","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","uploadToWordPress","pluginName","formData","FormData","append","username","password","siteUrl","auth","btoa","response","Authorization","ok","alert","err","text","console","error","className","children","placeholder","value","onChange","e","target","onClick","disabled","height","defaultLanguage","theme"],"sources":["C:/Users/91635/Desktop/Woocomerce plugin/woocommerce-plugin-gen/client/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Editor from '@monaco-editor/react';\nimport './App.css';\n\nexport default function App() {\n    const [prompt, setPrompt] = useState('');\n    const [code, setCode] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const generatePlugin = async () => {\n        setLoading(true);\n        const API_BASE_URL = process.env.REACT_APP_API_BASE_URL; // ✅ new\n        const res = await fetch(`${API_BASE_URL}/api/generate`, { // ✅ new\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ prompt }),\n        });\n        const data = await res.json();\n        setCode(data.code);\n        setLoading(false);\n    };\n\n    const downloadPlugin = () => {\n        const blob = new Blob([code], { type: 'text/php' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'custom-plugin.php';\n        a.click();\n        URL.revokeObjectURL(url);\n    };\n\n    const uploadToWordPress = async () => {\n        const pluginName = 'custom-plugin.php';\n        const blob = new Blob([code], { type: 'text/php' });\n\n        const formData = new FormData();\n        formData.append('file', blob, pluginName);\n\n        const username = 'kdenzz';\n        const password = 'hollowcoves';\n        const siteUrl = 'http://wooplugintest.local';\n\n        const auth = btoa(`${username}:${password}`);\n\n        try {\n            const response = await fetch(`${siteUrl}/wp-json/wp/v2/plugins`, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Basic ${auth}`\n                },\n                body: formData\n            });\n\n            if (response.ok) {\n                alert('✅ Plugin uploaded and ready in WordPress!');\n            } else {\n                const err = await response.text();\n                alert('❌ Upload failed: ' + err);\n            }\n        } catch (err) {\n            console.error(err);\n            alert('❌ Error uploading plugin to WordPress.');\n        }\n    };\n\n    return (\n        <div className=\"app\">\n            <h1>Woo Plugin Generator</h1>\n            <textarea\n                placeholder=\"Describe what you want the plugin to do...\"\n                value={prompt}\n                onChange={(e) => setPrompt(e.target.value)}\n            />\n            <button onClick={generatePlugin} disabled={loading}>\n                {loading ? 'Generating...' : 'Generate Plugin'}\n            </button>\n            <Editor\n                height=\"400px\"\n                defaultLanguage=\"php\"\n                value={code}\n                onChange={(value) => setCode(value ?? '')}\n                theme=\"vs-dark\"\n            />\n            {code && (\n                <>\n                    <button onClick={downloadPlugin}>Download Plugin (.php)</button>\n                    <button onClick={uploadToWordPress}>Apply to WP Website Directly</button>\n                </>\n            )}\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}